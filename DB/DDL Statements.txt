create table aehnlichzu (
    produkt_ida varchar(255) not null,
    produkt_idb varchar(255) not null,
    primary key (produkt_ida, produkt_idb)
);

create table angebot (
    angebot_id bigint generated by default as identity,
    filial_id bigint not null,
    produkt_id varchar(255) not null,
    primary key (angebot_id)
);

create table angebotsdetails (
    angebot_id bigint not null,
    zustand varchar(255) not null,
    preis float(53),
    primary key (angebot_id, zustand)
);

create table autoren (
    person_id bigint not null,
    produkt_id varchar(255) not null,
    hauptautor_id bigint,
    primary key (person_id, produkt_id)
);

create table buch (
    erscheinungsdatum date,
    isbn varchar(255) not null,
    seitenanzahl integer,
    verlag varchar(255),
    produkt_id varchar(255) not null,
    primary key (produkt_id)
);

create table dvd (
    format varchar(255) not null,
    laufzeit integer,
    region_code integer,
    produkt_id varchar(255) not null,
    primary key (produkt_id)
);

create table dvdrollen (
    produkt_id varchar(255) not null,
    person_id bigint not null,
    rolle varchar(255) not null,
    primary key (produkt_id, person_id, rolle)
);

create table filiale (
    filial_id bigint generated by default as identity,
    anschrift varchar(255) not null,
    name varchar(255) not null,
    primary key (filial_id)
);

create table kategorie (
    kategorie_id bigint generated by default as identity,
    name varchar(255) not null,
    parent_id bigint,
    primary key (kategorie_id)
);

create table kauf (
    kauf_id bigint generated by default as identity,
    kaufdatum timestamp(6) not null,
    kontonummer varchar(255) not null,
    lieferadresse varchar(255) not null,
    kunde_id bigint not null,
    primary key (kauf_id)
);

create table kaufdetails (
    angebot_id bigint not null,
    kauf_id bigint not null,
    zustand varchar(255) not null,
    menge integer not null,
    preis float(53) not null,
    primary key (angebot_id, kauf_id, zustand)
);

create table kuenstler (
    produkt_id varchar(255) not null,
    person_id bigint not null,
    primary key (produkt_id, person_id)
);

create table kunde (
    kunde_id bigint generated by default as identity,
    name varchar(255) not null,
    primary key (kunde_id)
);

create table musikcd (
    erscheinungsdatum date,
    label varchar(255),
    produkt_id varchar(255) not null,
    primary key (produkt_id)
);

create table person (
    person_id bigint generated by default as identity,
    name varchar(255) not null,
    primary key (person_id)
);

create table produkt (
    produkt_id varchar(255) not null,
    bild varchar(255),
    rating float(53),
    titel varchar(255) not null,
    verkaufsrang integer,
    primary key (produkt_id)
);

create table produktkategorie (
    produkt_id varchar(255) not null,
    kategorie_id bigint not null,
    primary key (produkt_id, kategorie_id)
);

create table rezension (
    rezension_id bigint generated by default as identity,
    anzahl_nuetzlich integer,
    datum date not null,
    punkte integer not null,
    text varchar(255),
    zusammenfassung varchar(255),
    kunde_id bigint not null,
    produkt_id varchar(255) not null,
    primary key (rezension_id)
);

create table trackliste (
    track_id bigint generated by default as identity,
    titel varchar(255) not null,
    produkt_id varchar(255) not null,
    primary key (track_id)
);
